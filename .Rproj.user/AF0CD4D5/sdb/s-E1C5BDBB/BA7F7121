{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Iceland Samples\"\nauthor: \"Sara Michele Schaal\"\ndate: \"12/13/2018\"\noutput: pdf_document\n---\n\n\n## Load Packages\n\n```{r, warning = FALSE}\nsuppressPackageStartupMessages(library(dplyr))\nknitr::opts_knit$set(root.dir = \"/Users/saraschaal/Documents/Northeastern/LotterhosLab/Research/Iceland/Analysis\")\n```\n\n## Load & Manipulate Dataframes\nNeed to manipulate dataframes because they came from different people with different headings. Once in the proper order I create one master dataframe.\n\\newline\n```{r}\n##################################################\n#### Load DataFrames #############################\n##################################################\n\n# Northeast offshore\ndf.NEOff <- read.csv2(\"./data/Iceland_NEOffshore_Original.csv\", header = TRUE, sep = \";\")\n# Southwest offshore\ndf.SWOff <- read.csv2(\"./data/Iceland_SWOffshore_Original.csv\", header = TRUE, sep = \";\")\n# Northeast nearshore\ndf.NENear <- read.csv(\"./data/Iceland_NENearshore_Original.csv\", header = TRUE)\n# Southwest nearshore\ndf.SWNear <- read.csv(\"./data/Iceland_SWNearshore_Original.csv\", header = TRUE)\n```\n\n```{r}\n########################\n#### Adjust Columns ####\n########################\n\n############################\n#### Northeast offshore ####\n  # change column names\n  colnames(df.NEOff)[2] <- \"synis.id\"\n\n############################\n### Northeast nearshore ####\n  # change column names\n  colnames(df.NENear) <- c(\"sample.id\", \"synis.id\", \"station\", \"number\", \"length\", \n                           \"sex\", \"maturity\", \"ungutted\", \"gutted\", \"liver\", \n                           \"pos.start.n\", \"pos.start.w\", \"pos.end.n\", \"pos.end.w\", \n                           \"depth.start\", \"depth.end\", \"year\", \"month\", \"day\")\n  \n  # add columns with NAs for missing data columns\n  df.NENear.NA <- matrix(NA, ncol = (ncol(df.NEOff)-ncol(df.NENear)), nrow = nrow(df.NENear))\n  colnames(df.NENear.NA) <- c(\"cruise\", \"vessel\", \"gear\", \"stat.square\", \n                              \"towlength\", \"townumber\", \"species\", \"age\", \"gonads\")\n  \n  # combine NA and original dataframe\n  df.NENear <- cbind(df.NENear, df.NENear.NA)\n\n#############################  \n#### Southwest nearshore ####\n  # change column names\n  colnames(df.SWNear)[c(1:2, 6:13, 16, 22:31)] <- c(\"sample.id\", \"synis.id\", \"cruise\", \n                                                    \"station\", \"vessel\", \"year\", \"month\", \n                                                    \"day\", \"pos.start.n\", \"pos.start.w\", \n                                                    \"depth.start\", \"species\", \"number\", \n                                                    \"length\", \"sex\", \"maturity\", \"age\", \n                                                    \"ungutted\", \"gutted\", \"gonads\", \"liver\")\n  # remove only necessary columns\n  df.SWNear <- df.SWNear[,c(1:2, 6:13, 16, 22:31)]\n  \n  # add columns with NAs for missing data columns\n  df.SWNear.NA <- matrix(NA, ncol = (ncol(df.SWOff)-ncol(df.SWNear)), nrow = nrow(df.SWNear))\n  colnames(df.SWNear.NA) <- c(\"gear\", \"pos.end.n\", \"pos.end.w\", \"depth.end\", \n                              \"stat.square\", \"towlength\", \"townumber\")\n  \n  # combine NA and original dataframe\n  df.SWNear <- cbind(df.SWNear, df.SWNear.NA)\n\n############################\n#### Southwest offshore ####\n  # change column names\n  colnames(df.SWOff)[2] <- \"synis.id\" \n\n```\n\n\n```{r}\n#################################\n#### Create Master Datasheet ####\n#################################\n\n### Add sample names\n  df.SWOff$SampleID <- sampleNames(18, 1:51, \"Gm\")\n  df.NENear$SampleID <- sampleNames(18, 52:101, \"Gm\")\n  df.NEOff$SampleID <- sampleNames(18, 102:151, \"Gm\")\n  df.SWNear$SampleID <- sampleNames(18, 152:194, \"Gm\")\n\n### Create single dataframe\n  df.IcelandMaster <- rbind(df.SWOff, df.NENear, df.NEOff, df.SWNear)\n  df.IcelandMaster <- df.IcelandMaster[,c(29, 1:28)]\n\n### Export Dataframe\n  write.csv(df.IcelandMaster, \"./data/IcelandMasterData.csv\", row.names = FALSE)\n```",
    "created" : 1544725252283.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1074905364",
    "id" : "BA7F7121",
    "lastKnownWriteTime" : 1552269370,
    "last_content_update" : 1552269370451,
    "path" : "~/Documents/Northeastern/LotterhosLab/Research/Iceland/Analysis/scripts/IcelandPhenotypes.Rmd",
    "project_path" : "scripts/IcelandPhenotypes.Rmd",
    "properties" : {
        "chunk_output_type" : "console",
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}